{
  "app": {
    "name": "thred",
    "path": "../app",
    "binaryNpmModules": {
      "thred-core": ["node-gyp", "canvas"]
    }
  },

  "defaults": {
    "hosts": {
      "username": "ubuntu"
    },
    "env": {
      "MONGO_URL":        "mongodb://db.domain.com/database",
      "MONGO_OPLOG_URL":  "mongodb://db.domain.com/local",
      "ROOT_URL":         "https://your.app.domain.com/"
    },
    "confs": {
      "nginx": "./conf/emmerge-app.nginx",
      "upstart": "./conf/emmerge-app.upstart"
    }
  },

  "hosts": [
    {
      "name": "app1.emmerge.com",
      "services": [
        { "name": "thred-0", "env": { "PORT": 8200 } },
        { "name": "thred-1", "env": { "PORT": 8201 } },
        { "name": "thred-2", "env": { "PORT": 8202 } },
        { "name": "thred-3", "env": { "PORT": 8203 } }
      ]
    },
    {
      "name": "app2.emmerge.com",
      "services": [
        { "name": "thred-0", "env": { "PORT": 8200 } },
        { "name": "thred-1", "env": { "PORT": 8201 } },
        { "name": "thred-2", "env": { "PORT": 8202 } },
        { "name": "thred-3", "env": { "PORT": 8203 } }
      ]
    }
  ],

  "checkUp": true,
  "checkUpDelay_s": 15
}
